version: 1

topics:
  servo:
    subscribe:
      - id: cartesian_mm
        name: /servo/cartesian_mm
        type: geometry_msgs/msg/TwistStamped
        qos: sensor_data        # BEST_EFFORT (CLI: --qos-reliability best_effort)
      - id: joint_jog
        name: /servo/joint_jog
        type: control_msgs/msg/JointJog
        qos: sensor_data
      - id: set_mode
        name: /servo/set_mode
        type: std_msgs/msg/String
        qos: default            # RELIABLE
      - id: set_frame
        name: /servo/set_frame
        type: std_msgs/msg/String
        qos: default

    publish:
      - id: twist_out
        name: /servo/delta_twist_cmds
        type: geometry_msgs/msg/TwistStamped
        qos: sensor_data        # ‚Üê i.d.R. BEST_EFFORT wie MoveIt-Subscriber
      - id: joint_out
        name: /servo/delta_joint_cmds
        type: control_msgs/msg/JointJog
        qos: sensor_data

  tool:
    subscribe:
      - id: tool_select
        name: /spraycoater/tool/select
        type: std_msgs/msg/String
        qos: default
      - id: tool_tcp_set
        name: /spraycoater/tool/tcp/set
        type: geometry_msgs/msg/PoseStamped
        qos: default
    publish:
      - id: tool_state
        name: /spraycoater/tool/state
        type: std_msgs/msg/String
        qos: latched
      - id: tool_tcp
        name: /spraycoater/tool/tcp
        type: geometry_msgs/msg/PoseStamped
        qos: latched

  motion:
    subscribe:
      - id: plan_waypoints
        name: /spraycoater/motion/plan/waypoints
        type: geometry_msgs/msg/PoseArray
        qos: default
      - id: plan_named
        name: /spraycoater/motion/plan/named
        type: std_msgs/msg/String
        qos: default
      - id: execute
        name: /spraycoater/motion/execute
        type: std_msgs/msg/Bool
        qos: default
      - id: stop
        name: /spraycoater/motion/stop
        type: std_msgs/msg/Empty
        qos: default
    publish:
      - id: trajectory
        name: /spraycoater/motion/trajectory
        type: trajectory_msgs/msg/JointTrajectory
        qos: default
      - id: preview_markers
        name: /spraycoater/motion/preview/markers
        type: visualization_msgs/msg/MarkerArray
        qos: latched
      - id: motion_result
        name: /spraycoater/motion/result
        type: std_msgs/msg/String
        qos: default

  poses:
    subscribe:
      - id: pose_set
        name: /spraycoater/poses/set
        type: geometry_msgs/msg/PoseStamped
        qos: default
    publish:
      - id: poses_list
        name: /spraycoater/poses/list
        type: geometry_msgs/msg/PoseArray
        qos: latched
      - id: pose_changed
        name: /spraycoater/poses/changed
        type: std_msgs/msg/String
        qos: default

  scene:
    subscribe:
      - id: cage_set
        name: /spraycoater/scene/cage/set
        type: std_msgs/msg/String
        qos: default
      - id: mount_set
        name: /spraycoater/scene/mount/set
        type: std_msgs/msg/String
        qos: default
      - id: substrate_set
        name: /spraycoater/scene/substrate/set
        type: std_msgs/msg/String
        qos: default

    publish:
      - id: cage_current
        name: /spraycoater/scene/cage/current
        type: std_msgs/msg/String
        qos: latched
      - id: mount_current
        name: /spraycoater/scene/mount/current
        type: std_msgs/msg/String
        qos: latched
      - id: substrate_current
        name: /spraycoater/scene/substrate/current
        type: std_msgs/msg/String
        qos: latched

      - id: cage_list
        name: /spraycoater/scene/cage/list
        type: std_msgs/msg/String
        qos: latched
      - id: mount_list
        name: /spraycoater/scene/mount/list
        type: std_msgs/msg/String
        qos: latched
      - id: substrate_list
        name: /spraycoater/scene/substrate/list
        type: std_msgs/msg/String
        qos: latched

  status:
    publish:
      - id: heartbeat
        name: /spraycoater/status/heartbeat
        type: std_msgs/msg/UInt32
        qos: default
      - id: diagnostics
        name: /spraycoater/status/diagnostics
        type: diagnostic_msgs/msg/DiagnosticArray
        qos: default
