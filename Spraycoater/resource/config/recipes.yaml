version: 1

# -------------------------------------------------------------------
# Zentrale UI-/Validierungs-Spezifikationen mit DEFAULT-WERTEN
# -------------------------------------------------------------------
recipe_params:

  globals:
    speed_mm_s:       { type: number, min: 10,   max: 2000, step: 10,  unit: "mm/s",  default: 200 }
    stand_off_mm:     { type: number, min: 0.1,  max: 200,  step: 0.1, unit: "mm",    default: 10 }
    sample_step_mm:   { type: number, min: 0.05, max: 50, step: 0.05, unit: "mm", default: 1.0 }
    max_points:       { type: number, min: 100,  max: 1000, step: 100, default: 500 }
    max_angle_deg:    { type: number, min: 0,    max: 45, step: 0.5, default: 0 }

    flow_ml_min:      { type: number, min: 0.0,  max: 100.0,step: 0.1, unit: "ml/min",default: 5.0 }
    pre_dispense_s:   { type: number, min: 0.0,  max: 10.0, step: 0.1, unit: "s",     default: 0.2 }
    post_dispense_s:  { type: number, min: 0.0,  max: 10.0, step: 0.1, unit: "s",     default: 0.1 }

  # --- Meander (Ebene) ---
  path.meander.plane:
    area.shape:        { type: enum, values: ["circle","rect"], default: "circle" }
    area.center_xy_mm: { type: vec2, min: [-1000,-1000], max: [1000,1000], step: [0.1,0.1], unit: "mm", default: [0,0] }
    area.radius_mm:    { type: number, min: 1.0, max: 2000, step: 0.1, unit: "mm", default: 50.0,
                         visible_if: {"area.shape":"circle"} }
    area.size_mm:      { type: vec2,   min: [1.0,1.0], max: [5000,5000], step: [0.1,0.1], unit: "mm", default: [100.0,100.0],
                         visible_if: {"area.shape":"rect"} }
    pitch_mm:          { type: number, min: 0.1, max: 200,  step: 0.1, unit: "mm", default: 5.0 }
    angle_deg:         { type: number, min: 0,   max: 180,  step: 1,   unit: "deg", default: 0 }
    edge_extend_mm:    { type: number, min: 0.0, max: 200,  step: 0.1, unit: "mm", default: 0.0 }
    margin_mm:         { type: number, min: 0.0, max: 200,  step: 0.1, unit: "mm", default: 0.0 }
    boustrophedon:     { type: boolean, default: true }
    start:             { type: enum, values: ["auto","minx_miny","minx_maxy","maxx_miny","maxx_maxy"], default: "auto" }

    predispense.angle_mode: { type: enum, values: ["auto","custom"], default: "auto" }
    predispense.angle_deg:  { type: number,  min: 0, max: 90, step: 1, unit: "deg", default: 0,
                              visible_if: {"predispense.angle_mode":"custom"} }
    retreat.angle_mode:     { type: enum, values: ["auto","custom"], default: "auto" }
    retreat.angle_deg:      { type: number,  min: 0, max: 90, step: 1, unit: "deg", default: 0,
                              visible_if: {"retreat.angle_mode":"custom"} }

  # --- Spiral (Ebene / Top) ---
  path.spiral.plane:
    center_xy_mm:     { type: vec2,   min: [-1000,-1000], max: [1000,1000], step: [0.1,0.1], unit: "mm", default: [0,0] }
    r_outer_mm:       { type: number, min: 0.1,  max: 2000, step: 0.1, unit: "mm", default: 49.0 }
    r_inner_mm:       { type: number, min: 0.0,  max: 1000, step: 0.1, unit: "mm", default: 1.0 }
    pitch_mm:         { type: number, min: 0.1,  max: 200,  step: 0.1, unit: "mm", default: 4.0 }
    z_mm:             { type: number, min: 0.0,  max: 500,  step: 0.1, unit: "mm", default: 10.0 }
    direction:        { type: enum,   values: ["cw","ccw"], default: "ccw" }

    predispense.angle_mode: { type: enum, values: ["auto","custom"], default: "auto" }
    predispense.angle_deg:  { type: number,  min: 0, max: 90, step: 1, unit: "deg", default: 0,
                              visible_if: {"predispense.angle_mode":"custom"} }
    retreat.angle_mode:     { type: enum, values: ["auto","custom"], default: "auto" }
    retreat.angle_deg:      { type: number,  min: 0, max: 90, step: 1, unit: "deg", default: 0,
                              visible_if: {"retreat.angle_mode":"custom"} }

  # --- Spiral (Zylinder / Helix) ---
  path.spiral.cylinder:
    pitch_mm:         { type: number, min: 0.1, max: 200,  step: 0.1, unit: "mm", default: 10.0 }
    outside_mm:       { type: number, min: 0.0, max: 100,  step: 0.1, unit: "mm", default: 1.0 }
    margin_top_mm:    { type: number, min: 0.0, max: 200,  step: 0.1, unit: "mm", default: 0.0 }
    margin_bottom_mm: { type: number, min: 0.0, max: 200,  step: 0.1, unit: "mm", default: 0.0 }
    start_from:       { type: enum,   values: ["top","bottom"], default: "top" }
    direction:        { type: enum,   values: ["cw","ccw"],     default: "ccw" }

    predispense.angle_mode: { type: enum, values: ["auto","custom"], default: "auto" }
    predispense.angle_deg:  { type: number,  min: 0, max: 90, step: 1, unit: "deg", default: 0,
                              visible_if: {"predispense.angle_mode":"custom"} }
    retreat.angle_mode:     { type: enum, values: ["auto","custom"], default: "auto" }
    retreat.angle_deg:      { type: number,  min: 0, max: 90, step: 1, unit: "deg", default: 0,
                              visible_if: {"retreat.angle_mode":"custom"} }

  # --- Polyhelix (Pyramide) ---
  path.polyhelix.pyramid:
    base_polygon_sides:     { type: enum, values: [3,4,5,6], default: 4 }
    base_edge_len_mm:       { type: number, min: 5,   max: 5000, step: 0.1, unit: "mm", default: 100.0 }
    height_mm:              { type: number, min: 5,   max: 5000, step: 0.1, unit: "mm", default: 60.0 }
    pitch_mm:               { type: number, min: 0.1, max: 200,  step: 0.1, unit: "mm", default: 6.0 }
    dz_mm:                  { type: number, min: 0.05,max: 50,   step: 0.05,unit: "mm", default: 1.0 }
    start_phase_deg:        { type: number, min: 0,   max: 360,  step: 1,   unit: "deg", default: 0 }
    stand_off_mm:           { type: number, min: 0.1, max: 200,  step: 0.1, unit: "mm", default: 25.0 }
    corner_roll_radius_mm:  { type: number, min: 0,   max: 50,   step: 0.1, unit: "mm", default: 8.0 }
    cap_top_mm:             { type: number, min: 0,   max: 200,  step: 0.1, unit: "mm", default: 8.0 }
    azimuth_sector_deg:     { type: vec2,   min: [-180,-180], max: [180,180], step: [1,1], unit: "deg", default: [-180,180] }
    flow_scale_min:         { type: number, min: 0.0, max: 1.0, step: 0.05, default: 0.3 }
    flow_scale_max:         { type: number, min: 0.0, max: 1.0, step: 0.05, default: 1.0 }
    cos_alpha_comp:         { type: boolean, default: true }

    predispense.angle_mode: { type: enum, values: ["auto","custom"], default: "auto" }
    predispense.angle_deg:  { type: number,  min: 0, max: 90, step: 1, unit: "deg", default: 0,
                              visible_if: {"predispense.angle_mode":"custom"} }
    retreat.angle_mode:     { type: enum, values: ["auto","custom"], default: "auto" }
    retreat.angle_deg:      { type: number,  min: 0, max: 90, step: 1, unit: "deg", default: 0,
                              visible_if: {"retreat.angle_mode":"custom"} }

  # --- Polyhelix (Würfel) ---
  path.polyhelix.cube:
    edge_len_mm:            { type: number, min: 5,   max: 5000, step: 0.1, unit: "mm", default: 100.0 }
    height_mm:              { type: number, min: 5,   max: 5000, step: 0.1, unit: "mm", default: 100.0 }
    pitch_mm:               { type: number, min: 0.1, max: 200,  step: 0.1, unit: "mm", default: 6.0 }
    dz_mm:                  { type: number, min: 0.05,max: 50,   step: 0.05,unit: "mm", default: 1.0 }
    start_phase_deg:        { type: number, min: 0,   max: 360,  step: 1,   unit: "deg", default: 0 }
    stand_off_mm:           { type: number, min: 0.1, max: 200,  step: 0.1, unit: "mm", default: 25.0 }
    corner_roll_radius_mm:  { type: number, min: 0,   max: 50,   step: 0.1, unit: "mm", default: 8.0 }
    azimuth_sector_deg:     { type: vec2,   min: [-180,-180], max: [180,180], step: [1,1], unit: "deg", default: [-180,180] }
    flow_scale_min:         { type: number, min: 0.0, max: 1.0, step: 0.05, default: 0.3 }
    flow_scale_max:         { type: number, min: 0.0, max: 1.0, step: 0.05, default: 1.0 }
    cos_alpha_comp:         { type: boolean, default: true }

    predispense.angle_mode: { type: enum, values: ["auto","custom"], default: "auto" }
    predispense.angle_deg:  { type: number,  min: 0, max: 90, step: 1, unit: "deg", default: 0,
                              visible_if: {"predispense.angle_mode":"custom"} }
    retreat.angle_mode:     { type: enum, values: ["auto","custom"], default: "auto" }
    retreat.angle_deg:      { type: number,  min: 0, max: 90, step: 1, unit: "deg", default: 0,
                              visible_if: {"retreat.angle_mode":"custom"} }

  # --- Perimeter-Follow (Rand, Ebene) ---
  path.perimeter_follow.plane:
    area.shape:        { type: enum, values: ["circle","rect"], default: "circle" }
    area.center_xy_mm: { type: vec2, min: [-1000,-1000], max: [1000,1000], step: [0.1,0.1], unit: "mm", default: [0,0] }
    area.radius_mm:    { type: number, min: 1.0, max: 2000, step: 0.1, unit: "mm", default: 50.0,
                         visible_if: {"area.shape":"circle"} }
    area.size_mm:      { type: vec2,   min: [1.0,1.0], max: [5000,5000], step: [0.1,0.1], unit: "mm", default: [100.0,100.0],
                         visible_if: {"area.shape":"rect"} }
    loops:             { type: number, min: 1, max: 10, step: 1, default: 2 }
    offset_start_mm:   { type: number, min: -20, max: 20, step: 0.1, unit: "mm", default: 1.0 }
    offset_step_mm:    { type: number, min: 0, max: 10, step: 0.1, unit: "mm", default: 1.0 }
    corner_blend_mm:   { type: number, min: 0, max: 20, step: 0.1, unit: "mm", default: 5.0 }
    spray_angle_deg:   { type: number, min: 0, max: 20, step: 1, unit: "deg", default: 8 }
    flow_scale_min:    { type: number, min: 0.0, max: 1.0, step: 0.05, default: 0.6 }
    flow_scale_max:    { type: number, min: 0.0, max: 1.0, step: 0.05, default: 1.0 }

    predispense.angle_mode: { type: enum, values: ["auto","custom"], default: "auto" }
    predispense.angle_deg:  { type: number,  min: 0, max: 90, step: 1, unit: "deg", default: 0,
                              visible_if: {"predispense.angle_mode":"custom"} }
    retreat.angle_mode:     { type: enum, values: ["auto","custom"], default: "auto" }
    retreat.angle_deg:      { type: number,  min: 0, max: 90, step: 1, unit: "deg", default: 0,
                              visible_if: {"retreat.angle_mode":"custom"} }

# -------------------------------------------------------------------
# Planner-Settings: globale Rollen + Planner-Details
# -------------------------------------------------------------------
planner_settings:

  # Rollen → welche Planner sind je Kategorie erlaubt?
  validate_move:
    - "RRTConnect"
    - "RRTConnectkConfigDefault"
    - "RRT"
    - "PRM"
    - "PRMkConfigDefault"
    - "KPIECE"
    - "BKPIECE"
    - "LBKPIECE"
    - "EST"
    - "BiEST"
    - "SBL"
    - "PTP"

  validate_path:
    - "RRTstar"
    - "RRTstarkConfigDefault"
    - "RRTsharp"
    - "PRMstar"
    - "STRIDE"
    - "FMT"
    - "BFMT"
    - "PDST"
    - "TRRT"
    - "Lightning"
    - "Thunder"
    - "LIN"
    - "CIRC"

  refine:
    - "CHOMP"
    - "CHOMPOptimizer"
    - "CHOMPTrajectoryOptimizer"
    - "STOMP"
    - "STOMP_Replan"
    - "STOMP_Smoothing"
    - "STOMP_Optimize"

  optimize:
    - "TimeOptimalTrajectoryGeneration"
    - "IterativeParabolicTimeParameterization"
    - "SplineInterpolator"

  service:
    - "PTP"
    - "LIN"
    - "CIRC"
    - "RRTConnectkConfigDefault"
    - "RRTConnect"
    - "PRMkConfigDefault"
    - "PRM"

  # Planner-Sets pro Path-Typ
  path_types:

    # --- Planare Pfade (Top-Flächen etc.) ---
    path.meander.plane:
      validate_move:
        - "RRTConnectkConfigDefault"
        - "RRTConnect"
        - "PRMkConfigDefault"
        - "PTP"
      validate_path:
        - "RRTstarkConfigDefault"
        - "PRMstar"
        - "STRIDE"
        - "FMT"
        - "BFMT"
        - "TRRT"
        - "Lightning"
        - "Thunder"
        - "LIN"
        - "CIRC"

    path.spiral.plane:
      validate_move:
        - "RRTConnectkConfigDefault"
        - "RRTConnect"
        - "PRMkConfigDefault"
        - "PTP"
      validate_path:
        - "RRTstarkConfigDefault"
        - "RRTstar"
        - "PRMstar"
        - "STRIDE"
        - "FMT"
        - "BFMT"
        - "TRRT"
        - "Lightning"
        - "Thunder"

    path.perimeter_follow.plane:
      validate_move:
        - "RRTConnectkConfigDefault"
        - "PTP"
      validate_path:
        - "LIN"
        - "CIRC"
        - "RRTstarkConfigDefault"

    # --- Helix / Zylinder ---
    path.spiral.cylinder:
      validate_move:
        - "RRTConnectkConfigDefault"
        - "RRTConnect"
        - "PRMkConfigDefault"
        - "PTP"
      validate_path:
        - "RRTstarkConfigDefault"
        - "RRTstar"
        - "RRTsharp"
        - "PDST"
        - "TRRT"
        - "Lightning"
        - "Thunder"

    # --- Polyhelix / Volumenformen ---
    path.polyhelix.pyramid:
      validate_move:
        - "RRTConnectkConfigDefault"
        - "RRTConnect"
        - "RRT"
        - "PRM"
        - "PRMkConfigDefault"
        - "KPIECE"
        - "BKPIECE"
        - "LBKPIECE"
        - "EST"
        - "BiEST"
        - "SBL"
        - "PTP"
      validate_path:
        - "RRTstarkConfigDefault"
        - "RRTstar"
        - "RRTsharp"
        - "PRMstar"
        - "STRIDE"
        - "FMT"
        - "BFMT"
        - "PDST"
        - "TRRT"
        - "Lightning"
        - "Thunder"

    path.polyhelix.cube:
      validate_move:
        - "RRTConnectkConfigDefault"
        - "RRTConnect"
        - "RRT"
        - "PRM"
        - "PRMkConfigDefault"
        - "KPIECE"
        - "BKPIECE"
        - "LBKPIECE"
        - "EST"
        - "BiEST"
        - "SBL"
        - "PTP"
      validate_path:
        - "RRTstarkConfigDefault"
        - "RRTstar"
        - "RRTsharp"
        - "PRMstar"
        - "STRIDE"
        - "FMT"
        - "BFMT"
        - "PDST"
        - "TRRT"
        - "Lightning"
        - "Thunder"

# Detail-Tabelle: alle Planner pro Pipeline (mit Beschreibung)
planner_pipeline:

  # -------------------------------------------------------------------
  # OMPL: Sampling-based Motion Planning
  # -------------------------------------------------------------------
  ompl:
    RRTConnect:
      description: "Schneller bidirektionaler RRT-Planner (grobe, schnelle Pfade)."
      params:
        planning_time_s:       { type: number, min: 0.1, max: 60.0, step: 0.1,  default: 2.0 }
        attempts:              { type: integer,min: 1,   max: 100,  step: 1,    default: 1 }
        velocity_scaling:      { type: number, min: 0.0, max: 1.0,  step: 0.05, default: 0.5 }
        acceleration_scaling:  { type: number, min: 0.0, max: 1.0,  step: 0.05, default: 0.5 }
        cartesian.eef_step_mm:    { type: number, min: 0.01, max: 50.0, step: 0.01, default: 1.0 }
        cartesian.jump_threshold: { type: number, min: 0.0,  max: 10.0, step: 0.1,  default: 0.0 }

    RRTConnectkConfigDefault:
      description: "MoveIt-Standardkonfiguration von RRTConnect (sehr zuverlässig)."
      params:
        planning_time_s:       { type: number, min: 0.1, max: 60.0, step: 0.1,  default: 2.0 }
        attempts:              { type: integer,min: 1,   max: 100,  step: 1,    default: 1 }
        velocity_scaling:      { type: number, min: 0.0, max: 1.0,  step: 0.05, default: 0.5 }
        acceleration_scaling:  { type: number, min: 0.0, max: 1.0,  step: 0.05, default: 0.5 }
        cartesian.eef_step_mm:    { type: number, min: 0.01, max: 50.0, step: 0.01, default: 1.0 }
        cartesian.jump_threshold: { type: number, min: 0.0,  max: 10.0, step: 0.1,  default: 0.0 }

    RRT:
      description: "Einfacher RRT-Planner (klassisch, weniger effizient)."
      params:
        planning_time_s:       { type: number, min: 0.1, max: 60.0, step: 0.1,  default: 2.0 }
        attempts:              { type: integer,min: 1,   max: 100,  step: 1,    default: 1 }
        velocity_scaling:      { type: number, min: 0.0, max: 1.0,  step: 0.05, default: 0.5 }
        acceleration_scaling:  { type: number, min: 0.0, max: 1.0,  step: 0.05, default: 0.5 }
        cartesian.eef_step_mm:    { type: number, min: 0.01, max: 50.0, step: 0.01, default: 1.0 }
        cartesian.jump_threshold: { type: number, min: 0.0,  max: 10.0, step: 0.1,  default: 0.0 }

    RRTstar:
      description: "RRT* – asymptotisch optimal, liefert qualitativ bessere Pfade."
      params:
        planning_time_s:       { type: number, min: 0.1, max: 60.0, step: 0.1,  default: 2.0 }
        attempts:              { type: integer,min: 1,   max: 100,  step: 1,    default: 1 }
        velocity_scaling:      { type: number, min: 0.0, max: 1.0,  step: 0.05, default: 0.5 }
        acceleration_scaling:  { type: number, min: 0.0, max: 1.0,  step: 0.05, default: 0.5 }
        cartesian.eef_step_mm:    { type: number, min: 0.01, max: 50.0, step: 0.01, default: 1.0 }
        cartesian.jump_threshold: { type: number, min: 0.0,  max: 10.0, step: 0.1,  default: 0.0 }

    RRTstarkConfigDefault:
      description: "Standardkonfiguration von RRT* mit optimierten Parametern."
      params:
        planning_time_s:       { type: number, min: 0.1, max: 60.0, step: 0.1,  default: 2.0 }
        attempts:              { type: integer,min: 1,   max: 100,  step: 1,    default: 1 }
        velocity_scaling:      { type: number, min: 0.0, max: 1.0,  step: 0.05, default: 0.5 }
        acceleration_scaling:  { type: number, min: 0.0, max: 1.0,  step: 0.05, default: 0.5 }
        cartesian.eef_step_mm:    { type: number, min: 0.01, max: 50.0, step: 0.01, default: 1.0 }
        cartesian.jump_threshold: { type: number, min: 0.0,  max: 10.0, step: 0.1,  default: 0.0 }

    RRTsharp:
      description: "Verbesserter RRT-Variant mit Fokus auf Pfadqualität."
      params:
        planning_time_s:       { type: number, min: 0.1, max: 60.0, step: 0.1,  default: 2.0 }
        attempts:              { type: integer,min: 1,   max: 100,  step: 1,    default: 1 }
        velocity_scaling:      { type: number, min: 0.0, max: 1.0,  step: 0.05, default: 0.5 }
        acceleration_scaling:  { type: number, min: 0.0, max: 1.0,  step: 0.05, default: 0.5 }
        cartesian.eef_step_mm:    { type: number, min: 0.01, max: 50.0, step: 0.01, default: 1.0 }
        cartesian.jump_threshold: { type: number, min: 0.0,  max: 10.0, step: 0.1,  default: 0.0 }

    PRM:
      description: "Probabilistic Roadmap (PRM) – gut für globale Pfade."
      params:
        planning_time_s:       { type: number, min: 0.1, max: 60.0, step: 0.1,  default: 2.0 }
        attempts:              { type: integer,min: 1,   max: 100,  step: 1,    default: 1 }
        velocity_scaling:      { type: number, min: 0.0, max: 1.0,  step: 0.05, default: 0.5 }
        acceleration_scaling:  { type: number, min: 0.0, max: 1.0,  step: 0.05, default: 0.5 }
        cartesian.eef_step_mm:    { type: number, min: 0.01, max: 50.0, step: 0.01, default: 1.0 }
        cartesian.jump_threshold: { type: number, min: 0.0,  max: 10.0, step: 0.1,  default: 0.0 }

    PRMkConfigDefault:
      description: "MoveIt-Standardkonfiguration für PRM (robust, universell)."
      params:
        planning_time_s:       { type: number, min: 0.1, max: 60.0, step: 0.1,  default: 2.0 }
        attempts:              { type: integer,min: 1,   max: 100,  step: 1,    default: 1 }
        velocity_scaling:      { type: number, min: 0.0, max: 1.0,  step: 0.05, default: 0.5 }
        acceleration_scaling:  { type: number, min: 0.0, max: 1.0,  step: 0.05, default: 0.5 }
        cartesian.eef_step_mm:    { type: number, min: 0.01, max: 50.0, step: 0.01, default: 1.0 }
        cartesian.jump_threshold: { type: number, min: 0.0,  max: 10.0, step: 0.1,  default: 0.0 }

    PRMstar:
      description: "Optimierte PRM-Variante mit besserer Pfadqualität."
      params:
        planning_time_s:       { type: number, min: 0.1, max: 60.0, step: 0.1,  default: 2.0 }
        attempts:              { type: integer,min: 1,   max: 100,  step: 1,    default: 1 }
        velocity_scaling:      { type: number, min: 0.0, max: 1.0,  step: 0.05, default: 0.5 }
        acceleration_scaling:  { type: number, min: 0.0, max: 1.0,  step: 0.05, default: 0.5 }
        cartesian.eef_step_mm:    { type: number, min: 0.01, max: 50.0, step: 0.01, default: 1.0 }
        cartesian.jump_threshold: { type: number, min: 0.0,  max: 10.0, step: 0.1,  default: 0.0 }

    KPIECE:
      description: "KPIECE – gut für Probleme mit wenigen Freiheitsgraden."
      params:
        planning_time_s:       { type: number, min: 0.1, max: 60.0, step: 0.1,  default: 2.0 }
        attempts:              { type: integer,min: 1,   max: 100,  step: 1,    default: 1 }
        velocity_scaling:      { type: number, min: 0.0, max: 1.0,  step: 0.05, default: 0.5 }
        acceleration_scaling:  { type: number, min: 0.0, max: 1.0,  step: 0.05, default: 0.5 }
        cartesian.eef_step_mm:    { type: number, min: 0.01, max: 50.0, step: 0.01, default: 1.0 }
        cartesian.jump_threshold: { type: number, min: 0.0,  max: 10.0, step: 0.1,  default: 0.0 }

    BKPIECE:
      description: "Balanced KPIECE – ausgewogene Exploration und Exploitation."
      params:
        planning_time_s:       { type: number, min: 0.1, max: 60.0, step: 0.1,  default: 2.0 }
        attempts:              { type: integer,min: 1,   max: 100,  step: 1,    default: 1 }
        velocity_scaling:      { type: number, min: 0.0, max: 1.0,  step: 0.05, default: 0.5 }
        acceleration_scaling:  { type: number, min: 0.0, max: 1.0,  step: 0.05, default: 0.5 }
        cartesian.eef_step_mm:    { type: number, min: 0.01, max: 50.0, step: 0.01, default: 1.0 }
        cartesian.jump_threshold: { type: number, min: 0.0,  max: 10.0, step: 0.1,  default: 0.0 }

    LBKPIECE:
      description: "Lazy BKPIECE – schnellere Planung mit verzögerter Kollisionsprüfung."
      params:
        planning_time_s:       { type: number, min: 0.1, max: 60.0, step: 0.1,  default: 2.0 }
        attempts:              { type: integer,min: 1,   max: 100,  step: 1,    default: 1 }
        velocity_scaling:      { type: number, min: 0.0, max: 1.0,  step: 0.05, default: 0.5 }
        acceleration_scaling:  { type: number, min: 0.0, max: 1.0,  step: 0.05, default: 0.5 }
        cartesian.eef_step_mm:    { type: number, min: 0.01, max: 50.0, step: 0.01, default: 1.0 }
        cartesian.jump_threshold: { type: number, min: 0.0,  max: 10.0, step: 0.1,  default: 0.0 }

    EST:
      description: "Expansive Space Trees – für komplexe Konfigurationsräume."
      params:
        planning_time_s:       { type: number, min: 0.1, max: 60.0, step: 0.1,  default: 2.0 }
        attempts:              { type: integer,min: 1,   max: 100,  step: 1,    default: 1 }
        velocity_scaling:      { type: number, min: 0.0, max: 1.0,  step: 0.05, default: 0.5 }
        acceleration_scaling:  { type: number, min: 0.0, max: 1.0,  step: 0.05, default: 0.5 }
        cartesian.eef_step_mm:    { type: number, min: 0.01, max: 50.0, step: 0.01, default: 1.0 }
        cartesian.jump_threshold: { type: number, min: 0.0,  max: 10.0, step: 0.1,  default: 0.0 }

    BiEST:
      description: "Bidirektionale EST-Variante für schnellere Konvergenz."
      params:
        planning_time_s:       { type: number, min: 0.1, max: 60.0, step: 0.1,  default: 2.0 }
        attempts:              { type: integer,min: 1,   max: 100,  step: 1,    default: 1 }
        velocity_scaling:      { type: number, min: 0.0, max: 1.0,  step: 0.05, default: 0.5 }
        acceleration_scaling:  { type: number, min: 0.0, max: 1.0,  step: 0.05, default: 0.5 }
        cartesian.eef_step_mm:    { type: number, min: 0.01, max: 50.0, step: 0.01, default: 1.0 }
        cartesian.jump_threshold: { type: number, min: 0.0,  max: 10.0, step: 0.1,  default: 0.0 }

    SBL:
      description: "Single-query Bi-directional Lazy – schnell für Einzelanfragen."
      params:
        planning_time_s:       { type: number, min: 0.1, max: 60.0, step: 0.1,  default: 2.0 }
        attempts:              { type: integer,min: 1,   max: 100,  step: 1,    default: 1 }
        velocity_scaling:      { type: number, min: 0.0, max: 1.0,  step: 0.05, default: 0.5 }
        acceleration_scaling:  { type: number, min: 0.0, max: 1.0,  step: 0.05, default: 0.5 }
        cartesian.eef_step_mm:    { type: number, min: 0.01, max: 50.0, step: 0.01, default: 1.0 }
        cartesian.jump_threshold: { type: number, min: 0.0,  max: 10.0, step: 0.1,  default: 0.0 }

    STRIDE:
      description: "STRIDE – strukturierter Sampling-Planner."
      params:
        planning_time_s:       { type: number, min: 0.1, max: 60.0, step: 0.1,  default: 2.0 }
        attempts:              { type: integer,min: 1,   max: 100,  step: 1,    default: 1 }
        velocity_scaling:      { type: number, min: 0.0, max: 1.0,  step: 0.05, default: 0.5 }
        acceleration_scaling:  { type: number, min: 0.0, max: 1.0,  step: 0.05, default: 0.5 }
        cartesian.eef_step_mm:    { type: number, min: 0.01, max: 50.0, step: 0.01, default: 1.0 }
        cartesian.jump_threshold: { type: number, min: 0.0,  max: 10.0, step: 0.1,  default: 0.0 }

    FMT:
      description: "Fast Marching Tree – sehr effizient bei vielen Samples."
      params:
        planning_time_s:       { type: number, min: 0.1, max: 60.0, step: 0.1,  default: 2.0 }
        attempts:              { type: integer,min: 1,   max: 100,  step: 1,    default: 1 }
        velocity_scaling:      { type: number, min: 0.0, max: 1.0,  step: 0.05, default: 0.5 }
        acceleration_scaling:  { type: number, min: 0.0, max: 1.0,  step: 0.05, default: 0.5 }
        cartesian.eef_step_mm:    { type: number, min: 0.01, max: 50.0, step: 0.01, default: 1.0 }
        cartesian.jump_threshold: { type: number, min: 0.0,  max: 10.0, step: 0.1,  default: 0.0 }

    BFMT:
      description: "Bidirektionaler FMT – zwei Bäume für bessere Abdeckung."
      params:
        planning_time_s:       { type: number, min: 0.1, max: 60.0, step: 0.1,  default: 2.0 }
        attempts:              { type: integer,min: 1,   max: 100,  step: 1,    default: 1 }
        velocity_scaling:      { type: number, min: 0.0, max: 1.0,  step: 0.05, default: 0.5 }
        acceleration_scaling:  { type: number, min: 0.0, max: 1.0,  step: 0.05, default: 0.5 }
        cartesian.eef_step_mm:    { type: number, min: 0.01, max: 50.0, step: 0.01, default: 1.0 }
        cartesian.jump_threshold: { type: number, min: 0.0,  max: 10.0, step: 0.1,  default: 0.0 }

    PDST:
      description: "Projection-based Distance System Trees – arbeitet mit Projektionen."
      params:
        planning_time_s:       { type: number, min: 0.1, max: 60.0, step: 0.1,  default: 2.0 }
        attempts:              { type: integer,min: 1,   max: 100,  step: 1,    default: 1 }
        velocity_scaling:      { type: number, min: 0.0, max: 1.0,  step: 0.05, default: 0.5 }
        acceleration_scaling:  { type: number, min: 0.0, max: 1.0,  step: 0.05, default: 0.5 }
        cartesian.eef_step_mm:    { type: number, min: 0.01, max: 50.0, step: 0.01, default: 1.0 }
        cartesian.jump_threshold: { type: number, min: 0.0,  max: 10.0, step: 0.1,  default: 0.0 }

    TRRT:
      description: "Transition-based RRT – berücksichtigt Kostenlandschaften (z.B. Glattheit)."
      params:
        planning_time_s:       { type: number, min: 0.1, max: 60.0, step: 0.1,  default: 2.0 }
        attempts:              { type: integer,min: 1,   max: 100,  step: 1,    default: 1 }
        velocity_scaling:      { type: number, min: 0.0, max: 1.0,  step: 0.05, default: 0.5 }
        acceleration_scaling:  { type: number, min: 0.0, max: 1.0,  step: 0.05, default: 0.5 }
        cartesian.eef_step_mm:    { type: number, min: 0.01, max: 50.0, step: 0.01, default: 1.0 }
        cartesian.jump_threshold: { type: number, min: 0.0,  max: 10.0, step: 0.1,  default: 0.0 }

    Lightning:
      description: "Lightning – Experience-Planner, speichert und nutzt frühere Lösungen."
      params:
        planning_time_s:       { type: number, min: 0.1, max: 60.0, step: 0.1,  default: 2.0 }
        attempts:              { type: integer,min: 1,   max: 100,  step: 1,    default: 1 }
        velocity_scaling:      { type: number, min: 0.0, max: 1.0,  step: 0.05, default: 0.5 }
        acceleration_scaling:  { type: number, min: 0.0, max: 1.0,  step: 0.05, default: 0.5 }
        cartesian.eef_step_mm:    { type: number, min: 0.01, max: 50.0, step: 0.01, default: 1.0 }
        cartesian.jump_threshold: { type: number, min: 0.0,  max: 10.0, step: 0.1,  default: 0.0 }

    Thunder:
      description: "Thunder – robuste Lightning-Variante mit verbesserter Wiederverwendung."
      params:
        planning_time_s:       { type: number, min: 0.1, max: 60.0, step: 0.1,  default: 2.0 }
        attempts:              { type: integer,min: 1,   max: 100,  step: 1,    default: 1 }
        velocity_scaling:      { type: number, min: 0.0, max: 1.0,  step: 0.05, default: 0.5 }
        acceleration_scaling:  { type: number, min: 0.0, max: 1.0,  step: 0.05, default: 0.5 }
        cartesian.eef_step_mm:    { type: number, min: 0.01, max: 50.0, step: 0.01, default: 1.0 }
        cartesian.jump_threshold: { type: number, min: 0.0,  max: 10.0, step: 0.1,  default: 0.0 }


  # -------------------------------------------------------------------
  # Pilz: Deterministische Industrial Motion
  # -------------------------------------------------------------------
  pilz:
    PTP:
      description: "Pilz-PTP: deterministische Joint-Moves (sichere Übergänge, Service/Move)."
      params:
        planning_time_s:       { type: number, min: 0.1, max: 60.0, step: 0.1,  default: 1.0 }
        attempts:              { type: integer,min: 1,   max: 100,  step: 1,    default: 1 }
        velocity_scaling:      { type: number, min: 0.0, max: 1.0,  step: 0.05, default: 0.5 }
        acceleration_scaling:  { type: number, min: 0.0, max: 1.0,  step: 0.05, default: 0.5 }

    LIN:
      description: "Pilz-LIN: lineare TCP-Bewegung (z.B. gerade Spray-Pfade / Zustellungen)."
      params:
        planning_time_s:       { type: number, min: 0.1, max: 60.0, step: 0.1,  default: 1.0 }
        attempts:              { type: integer,min: 1,   max: 100,  step: 1,    default: 1 }
        velocity_scaling:      { type: number, min: 0.0, max: 1.0,  step: 0.05, default: 0.5 }
        acceleration_scaling:  { type: number, min: 0.0, max: 1.0,  step: 0.05, default: 0.5 }

    CIRC:
      description: "Pilz-CIRC: Kreisbogensegmente (Perimeter, Rundungen, Edge-Spray)."
      params:
        planning_time_s:       { type: number, min: 0.1, max: 60.0, step: 0.1,  default: 1.0 }
        attempts:              { type: integer,min: 1,   max: 100,  step: 1,    default: 1 }
        velocity_scaling:      { type: number, min: 0.0, max: 1.0,  step: 0.05, default: 0.5 }
        acceleration_scaling:  { type: number, min: 0.0, max: 1.0,  step: 0.05, default: 0.5 }


  # -------------------------------------------------------------------
  # CHOMP: Gradient-basierte Trajektorienoptimierung
  # -------------------------------------------------------------------
  chomp:
    CHOMP:
      description: "CHOMP – kontinuierliche Trajektorienoptimierung auf bestehender Lösung."
      params:
        planning_time_s:       { type: number, min: 0.1, max: 60.0, step: 0.1,  default: 5.0 }
        attempts:              { type: integer,min: 1,   max: 100,  step: 1,    default: 1 }
        velocity_scaling:      { type: number, min: 0.0, max: 1.0,  step: 0.05, default: 0.5 }
        acceleration_scaling:  { type: number, min: 0.0, max: 1.0,  step: 0.05, default: 0.5 }

    CHOMPOptimizer:
      description: "CHOMPOptimizer – expliziter Optimierer für Trajektorienfeinschliff."
      params:
        planning_time_s:       { type: number, min: 0.1, max: 60.0, step: 0.1,  default: 5.0 }
        attempts:              { type: integer,min: 1,   max: 100,  step: 1,    default: 1 }
        velocity_scaling:      { type: number, min: 0.0, max: 1.0,  step: 0.05, default: 0.5 }
        acceleration_scaling:  { type: number, min: 0.0, max: 1.0,  step: 0.05, default: 0.5 }

    CHOMPTrajectoryOptimizer:
      description: "CHOMPTrajectoryOptimizer – Fokus auf Optimierung kompletter Trajektorien."
      params:
        planning_time_s:       { type: number, min: 0.1, max: 60.0, step: 0.1,  default: 5.0 }
        attempts:              { type: integer,min: 1,   max: 100,  step: 1,    default: 1 }
        velocity_scaling:      { type: number, min: 0.0, max: 1.0,  step: 0.05, default: 0.5 }
        acceleration_scaling:  { type: number, min: 0.0, max: 1.0,  step: 0.05, default: 0.5 }


  # -------------------------------------------------------------------
  # STOMP: Stochastische Trajektorienoptimierung
  # -------------------------------------------------------------------
  stomp:
    STOMP:
      description: "STOMP – stochastische Optimierung, ideal für Spray-Trajektorien mit Kostenfunktion."
      params:
        planning_time_s:       { type: number, min: 0.1, max: 60.0, step: 0.1,  default: 5.0 }
        attempts:              { type: integer,min: 1,   max: 100,  step: 1,    default: 1 }
        velocity_scaling:      { type: number, min: 0.0, max: 1.0,  step: 0.05, default: 0.5 }
        acceleration_scaling:  { type: number, min: 0.0, max: 1.0,  step: 0.05, default: 0.5 }

    STOMP_Replan:
      description: "STOMP_Replan – STOMP-Variante mit Neuberechnung bei schlechter Lösung."
      params:
        planning_time_s:       { type: number, min: 0.1, max: 60.0, step: 0.1,  default: 5.0 }
        attempts:              { type: integer,min: 1,   max: 100,  step: 1,    default: 1 }
        velocity_scaling:      { type: number, min: 0.0, max: 1.0,  step: 0.05, default: 0.5 }
        acceleration_scaling:  { type: number, min: 0.0, max: 1.0,  step: 0.05, default: 0.5 }

    STOMP_Smoothing:
      description: "STOMP_Smoothing – Fokus auf Glättung bestehender Trajektorien."
      params:
        planning_time_s:       { type: number, min: 0.1, max: 60.0, step: 0.1,  default: 5.0 }
        attempts:              { type: integer,min: 1,   max: 100,  step: 1,    default: 1 }
        velocity_scaling:      { type: number, min: 0.0, max: 1.0,  step: 0.05, default: 0.5 }
        acceleration_scaling:  { type: number, min: 0.0, max: 1.0,  step: 0.05, default: 0.5 }

    STOMP_Optimize:
      description: "STOMP_Optimize – stärkere Kostenorientierung für maximale Optimierung."
      params:
        planning_time_s:       { type: number, min: 0.1, max: 60.0, step: 0.1,  default: 5.0 }
        attempts:              { type: integer,min: 1,   max: 100,  step: 1,    default: 1 }
        velocity_scaling:      { type: number, min: 0.0, max: 1.0,  step: 0.05, default: 0.5 }
        acceleration_scaling:  { type: number, min: 0.0, max: 1.0,  step: 0.05, default: 0.5 }


  # -------------------------------------------------------------------
  # Post-Processing: Zeitparameterisierung / Spline-Interpolation
  # -------------------------------------------------------------------
  post:
    TimeOptimalTrajectoryGeneration:
      description: "TOTG – zeitoptimale Trajektorienparameterisierung."
      params:
        velocity_scaling:      { type: number, min: 0.0, max: 1.0, step: 0.05, default: 1.0 }
        acceleration_scaling:  { type: number, min: 0.0, max: 1.0, step: 0.05, default: 1.0 }

    IterativeParabolicTimeParameterization:
      description: "IPTP – klassische zeitliche Parameterisierung über Parabelsegmente."
      params:
        velocity_scaling:      { type: number, min: 0.0, max: 1.0, step: 0.05, default: 1.0 }
        acceleration_scaling:  { type: number, min: 0.0, max: 1.0, step: 0.05, default: 1.0 }

    SplineInterpolator:
      description: "SplineInterpolator – glättet Trajektorien über Splines für weiche Bewegungen."
      params:
        velocity_scaling:      { type: number, min: 0.0, max: 1.0, step: 0.05, default: 1.0 }
        acceleration_scaling:  { type: number, min: 0.0, max: 1.0, step: 0.05, default: 1.0 }

# -------------------------------------------------------------------
# Rezepte – Path-Typen je Substrat/Side
# -------------------------------------------------------------------
recipes:

  - id: "wafer"
    substrate_type: "wafer"
    tools: ["spray_nozzle_01", "spray_nozzle_02"]
    substrates: ["wafer_d100_h2", "wafer_d150_h2", "wafer_d200_h2"]
    substrate_mounts: ["circle_d240_h50"]
    parameters: {}

    sides:
      top:
        allowed_path_types:
          - "path.meander.plane"
          - "path.spiral.plane"
          - "path.perimeter_follow.plane"
        default_path: { type: "path.spiral.plane" }

  - id: "mask"
    substrate_type: "mask"
    tools: ["spray_nozzle_01", "spray_nozzle_02"]
    substrates: ["mask_100_10"]
    substrate_mounts: ["flat_240x240x50"]
    parameters: {}

    sides:
      top:
        allowed_path_types:
          - "path.meander.plane"
          - "path.perimeter_follow.plane"
        default_path: { type: "path.meander.plane" }

  - id: "tube"
    substrate_type: "tube"
    tools: ["spray_nozzle_01", "spray_nozzle_02"]
    substrates:
      - "tube_ID5mm_t1p5mm_h100mm"
      - "tube_ID10mm_t1p5mm_h100mm"
      - "tube_ID20mm_t1p5mm_h100mm"
    substrate_mounts: ["post_d30mm_h100mm"]
    parameters: {}

    sides:
      helix:
        allowed_path_types:
          - "path.spiral.cylinder"
        default_path: { type: "path.spiral.cylinder" }

  - id: "cylinder"
    substrate_type: "cylinder"
    tools: ["spray_nozzle_01", "spray_nozzle_02"]
    substrates:
      - "cylinder_d100_h100"
      - "cylinder_d150_h150"
      - "cylinder_d200_h200"
    substrate_mounts: ["post_d30mm_h100mm"]
    parameters: {}

    sides:
      top:
        allowed_path_types:
          - "path.meander.plane"
          - "path.spiral.plane"
        default_path: { type: "path.spiral.plane" }
      helix:
        allowed_path_types:
          - "path.spiral.cylinder"
        default_path: { type: "path.spiral.cylinder" }

  - id: "cube"
    substrate_type: "cube"
    tools: ["spray_nozzle_01", "spray_nozzle_02"]
    substrates: ["cube_100", "cube_150"]
    substrate_mounts: ["flat_240x240x50"]
    parameters: {}

    sides:
      top:
        allowed_path_types:
          - "path.meander.plane"
          - "path.spiral.plane"
        default_path: { type: "path.meander.plane" }
      front:
        allowed_path_types:
          - "path.meander.plane"
          - "path.spiral.plane"
        default_path: { type: "path.meander.plane" }
      back:
        allowed_path_types:
          - "path.meander.plane"
          - "path.spiral.plane"
        default_path: { type: "path.meander.plane" }
      left:
        allowed_path_types:
          - "path.meander.plane"
          - "path.spiral.plane"
        default_path: { type: "path.meander.plane" }
      right:
        allowed_path_types:
          - "path.meander.plane"
          - "path.spiral.plane"
        default_path: { type: "path.meander.plane" }
      polyhelix:
        allowed_path_types:
          - "path.polyhelix.pyramid"
          - "path.polyhelix.cube"
        default_path: { type: "path.polyhelix.cube" }

  - id: "hemisphere"
    substrate_type: "hemisphere"
    tools: ["spray_nozzle_01", "spray_nozzle_02"]
    substrates: ["hemisphere_d200"]
    substrate_mounts: ["circle_d240_h50", "flat_240x240x50"]
    parameters: {}

    sides:
      top:
        allowed_path_types:
          - "path.meander.plane"
          - "path.spiral.plane"
        default_path: { type: "path.meander.plane" }

  - id: "pyramid"
    substrate_type: "pyramid"
    tools: ["spray_nozzle_01", "spray_nozzle_02"]
    substrates: ["pyramid_d150_h150", "pyramid_d200_h200"]
    substrate_mounts: ["flat_240x240x50"]
    parameters: {}

    sides:
      front:
        allowed_path_types:
          - "path.meander.plane"
          - "path.spiral.plane"
        default_path: { type: "path.meander.plane" }
      back:
        allowed_path_types:
          - "path.meander.plane"
          - "path.spiral.plane"
        default_path: { type: "path.meander.plane" }
      left:
        allowed_path_types:
          - "path.meander.plane"
          - "path.spiral.plane"
        default_path: { type: "path.meander.plane" }
      right:
        allowed_path_types:
          - "path.meander.plane"
          - "path.spiral.plane"
        default_path: { type: "path.meander.plane" }
      polyhelix:
        allowed_path_types:
          - "path.polyhelix.pyramid"
          - "path.polyhelix.cube"
        default_path: { type: "path.polyhelix.pyramid" }
